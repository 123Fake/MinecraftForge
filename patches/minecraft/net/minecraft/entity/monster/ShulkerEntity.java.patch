--- a/net/minecraft/entity/monster/ShulkerEntity.java
+++ b/net/minecraft/entity/monster/ShulkerEntity.java
@@ -166,7 +166,7 @@
          this.field_184708_bA = 0;
       } else if (!this.field_70170_p.field_72995_K) {
          BlockState blockstate = this.field_70170_p.func_180495_p(blockpos);
-         if (!blockstate.func_196958_f()) {
+         if (!blockstate.isAir(this.field_70170_p, blockpos)) {
             if (blockstate.func_203425_a(Blocks.field_196603_bb)) {
                Direction direction = blockstate.func_177229_b(PistonBlock.field_176387_N);
                if (this.field_70170_p.func_175623_d(blockpos.func_177972_a(direction))) {
@@ -249,6 +249,7 @@
       super.func_70107_b(p_70107_1_, p_70107_3_, p_70107_5_);
       if (this.field_70180_af != null && this.field_70173_aa != 0) {
          Optional<BlockPos> optional = this.field_70180_af.func_187225_a(field_184701_b);
+         if (this.isAddedToWorld() && this.field_70170_p instanceof net.minecraft.world.server.ServerWorld) ((net.minecraft.world.server.ServerWorld)this.field_70170_p).func_217464_b(this); // Forge - Process chunk registration after moving.
          Optional<BlockPos> optional1 = Optional.of(new BlockPos(p_70107_1_, p_70107_3_, p_70107_5_));
          if (!optional1.equals(optional)) {
             this.field_70180_af.func_187227_b(field_184701_b, optional1);
@@ -282,7 +283,14 @@
             BlockPos blockpos1 = blockpos.func_177982_a(8 - this.field_70146_Z.nextInt(17), 8 - this.field_70146_Z.nextInt(17), 8 - this.field_70146_Z.nextInt(17));
             if (blockpos1.func_177956_o() > 0 && this.field_70170_p.func_175623_d(blockpos1) && this.field_70170_p.func_175723_af().func_177746_a(blockpos1) && this.field_70170_p.func_226665_a__(this, new AxisAlignedBB(blockpos1))) {
                Direction direction = this.func_234299_g_(blockpos1);
+
                if (direction != null) {
+                   net.minecraftforge.event.entity.living.EnderTeleportEvent event = new net.minecraftforge.event.entity.living.EnderTeleportEvent(this, blockpos1.func_177958_n(), blockpos1.func_177956_o(), blockpos1.func_177952_p(), 0);
+                   if (net.minecraftforge.common.MinecraftForge.EVENT_BUS.post(event)) direction = null;
+                   blockpos1 = new BlockPos(event.getTargetX(), event.getTargetY(), event.getTargetZ());
+               }
+
+               if (direction != null) {
                   this.field_70180_af.func_187227_b(field_184700_a, direction);
                   this.func_184185_a(SoundEvents.field_187791_eX, 1.0F, 1.0F);
                   this.field_70180_af.func_187227_b(field_184701_b, Optional.of(blockpos1));
@@ -306,7 +314,6 @@
          this.field_70760_ar = 0.0F;
          this.field_70761_aq = 0.0F;
       }
-
    }
 
    public void func_184206_a(DataParameter<?> p_184206_1_) {
